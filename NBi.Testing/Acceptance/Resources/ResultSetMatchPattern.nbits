<?xml version="1.0" encoding="utf-8" ?>
<testSuite name="Acceptance Testing: resulSet match pattern" xmlns="http://NBi/TestSuite">
	<settings>
		<default apply-to="system-under-test">
			<connectionString>Data Source=mhknbn2kdz.database.windows.net;Initial Catalog=AdventureWorks2012;User Id=sqlfamily;password=sqlf@m1ly</connectionString>
		</default>
	</settings>
	<test name="'Reseller Order Count' by year before 2006" uid="0001">
		<system-under-test>
			<execution>
				<query name="MDX Except" connectionString="Provider=MSOLAP.4;Data Source=(local)\SQL2012;Initial Catalog='Adventure Works DW 2012';localeidentifier=1049">
					SELECT  
						[Measures].[Amount] ON 0, 
						non empty([Date].[Calendar].[Calendar Year]) ON 1 
					FROM 
						[Adventure Works]
				</query>
			</execution>
		</system-under-test>
		<assert>
			<matchPattern>
				<regex>^\$?[0-9]{1,3}(?:,?[0-9]{3})*\.[0-9]{2}$</regex>
			</matchPattern>
		</assert>
	</test>
	<test name="'Reseller Order Count' by year before 2006" uid="0001">
		<system-under-test>
			<execution>
				<query name="MDX Except" connectionString="Provider=MSOLAP.4;Data Source=(local)\SQL2012;Initial Catalog='Adventure Works DW 2012';localeidentifier=1049">
					SELECT
					[Measures].[Amount] ON 0,
					non empty([Date].[Calendar].[Calendar Year]) ON 1
					FROM
					[Adventure Works]
				</query>
			</execution>
		</system-under-test>
		<assert>
			<matchPattern>
				<currency-format
					currency-pattern="$n"
					currency-symbol="$"
					decimal-digits="2"
					decimal-separator="."
					group-separator=","/>
			</matchPattern>
		</assert>
	</test>
</testSuite>
